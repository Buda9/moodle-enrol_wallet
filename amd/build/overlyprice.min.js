define("enrol_wallet/overlyprice",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * module overlyprice
   *
   * @module     enrol_wallet/overlyprice
   * @copyright  2024 Mohammad Farouk <phun.for.physics@gmail.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const config={attributes:!0,childList:!0,subtree:!0};let observer,regionMain;const callback=mutationList=>{for(const mutation of mutationList)if("childList"===mutation.type&&mutation.addedNodes.length>0)for(let i=0;i<mutation.addedNodes.length;i++){let node=mutation.addedNodes[i];node instanceof HTMLElement&&searchAndInject(node)}};function searchAndInject(){let node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;stopObserver();let icons=node.querySelectorAll("[data-selector=enrol_wallet_icon]");for(let i=0;i<icons.length;i++){let instanceId=icons[i].getAttribute("data-instance-id"),parent=icons[i].parentNode,id="enrol-wallet-cost-overlay-"+instanceId;if(parent.querySelector("[data-identifier="+id+"]"))continue;let cost=icons[i].getAttribute("data-cost"),discount=icons[i].getAttribute("data-discount");var titleElement=document.createElement("div");titleElement.textContent=cost,titleElement.dataIdentifier=id,titleElement.title=icons[i].title,titleElement.classList.add("enrol_wallet_walletcost");let container=document.createElement("div");if(container.className="wallet-icon",container.style.position="relative",container.style.display="flex",icons[i].className="icon",parent.style.display="flex",parent.style.justifyContent="center",parent.style.alignItems="center",container.appendChild(icons[i].cloneNode(!0)),container.appendChild(titleElement),discount>0){var discountLabel=document.createElement("div");discountLabel.classList.add("enrol_wallet_offer"),discountLabel.innerHTML='<div class="enrol-wallet-inner-offer">'+discount+"%</div>";let found=!1;for(;!found;){if(parent.getAttribute("data-courseid")||parent.getAttribute("data-course-id")){parent.style.position="relative",parent.appendChild(discountLabel),found=!0;break}if(parent=parent.parentNode,"BODY"==parent.tagName)break}}icons[i].replaceWith(container)}startObserver()}function startObserver(){regionMain=document.getElementById("region-main"),observer.observe(regionMain,config)}function stopObserver(){observer.disconnect()}_exports.init=()=>{observer=new MutationObserver(callback),setTimeout((function(){searchAndInject()}),1e3)}}));

//# sourceMappingURL=overlyprice.min.js.map