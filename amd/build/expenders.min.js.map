{"version":3,"file":"expenders.min.js","sources":["../src/expenders.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * module expenders\n *\n * @module     enrol_wallet/expenders\n * @copyright  2024 Mohammad Farouk <phun.for.physics@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = (uniqid) => {\n    // Manual refund policy.\n    var enrolWalletPolicyUrl = document.getElementById('enrol_wallet_transactions-policy-url-' + uniqid);\n    var policy = document.getElementById('enrol_wallet_transactions-policy-' + uniqid);\n    if (enrolWalletPolicyUrl && policy) {\n        enrolWalletPolicyUrl.addEventListener(\"click\", function() {\n            if (policy.style.display === \"none\") {\n                policy.style.display = \"block\";\n            } else {\n                policy.style.display = \"none\";\n            }\n        });\n    }\n\n    // More balance details.\n    var moreBalanceDetails = document.getElementById('more-details-' + uniqid);\n    var details = document.getElementById('balance-details-' + uniqid);\n    if (moreBalanceDetails && details) {\n        moreBalanceDetails.addEventListener(\"click\", function() {\n            if (details.style.display === \"none\") {\n                details.style.display = \"flex\";\n            } else {\n                details.style.display = \"none\";\n            }\n        });\n    }\n\n    // Show top up options after confirm the agreement.\n    var walletPolicyAgreed = document.getElementById('wallet_topup_policy_confirm_' + uniqid);\n    var topUpBox = document.getElementById('enrol_wallet_topup_box_' + uniqid);\n    if (walletPolicyAgreed && topUpBox) {\n        // As the user may click the check box while the page not loaded yet.\n        setTimeout(function() {\n            showHideTopUp();\n        });\n\n        walletPolicyAgreed.addEventListener('change', function() {\n            showHideTopUp();\n        });\n\n        const showHideTopUp = () => {\n            if (walletPolicyAgreed.checked == true) {\n                topUpBox.style.display = 'block';\n            } else {\n                topUpBox.style.display = 'none';\n            }\n        };\n    }\n};"],"names":["uniqid","enrolWalletPolicyUrl","document","getElementById","policy","addEventListener","style","display","moreBalanceDetails","details","walletPolicyAgreed","topUpBox","setTimeout","showHideTopUp","checked"],"mappings":"2JAuBqBA,aAEbC,qBAAuBC,SAASC,eAAe,wCAA0CH,QACzFI,OAASF,SAASC,eAAe,oCAAsCH,QACvEC,sBAAwBG,QACxBH,qBAAqBI,iBAAiB,SAAS,WACd,SAAzBD,OAAOE,MAAMC,QACbH,OAAOE,MAAMC,QAAU,QAEvBH,OAAOE,MAAMC,QAAU,cAM/BC,mBAAqBN,SAASC,eAAe,gBAAkBH,QAC/DS,QAAUP,SAASC,eAAe,mBAAqBH,QACvDQ,oBAAsBC,SACtBD,mBAAmBH,iBAAiB,SAAS,WACX,SAA1BI,QAAQH,MAAMC,QACdE,QAAQH,MAAMC,QAAU,OAExBE,QAAQH,MAAMC,QAAU,cAMhCG,mBAAqBR,SAASC,eAAe,+BAAiCH,QAC9EW,SAAWT,SAASC,eAAe,0BAA4BH,WAC/DU,oBAAsBC,SAAU,CAEhCC,YAAW,WACPC,mBAGJH,mBAAmBL,iBAAiB,UAAU,WAC1CQ,yBAGEA,cAAgB,KACgB,GAA9BH,mBAAmBI,QACnBH,SAASL,MAAMC,QAAU,QAEzBI,SAASL,MAAMC,QAAU"}