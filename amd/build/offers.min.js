define("enrol_wallet/offers",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * Handle the offers form adding and deleting cases.
   *
   * @module     enrol_wallet/offers
   * @copyright  2024 2024, Mohammad Farouk <phun.for.physics@gmail.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */let container,courseid,selector;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};let i=0;function addDeleteButtonListener(){for(let j=1;j<=i;j++){var deletebutton=document.querySelector("[name=offer_delete_"+j+"]");deletebutton&&(deletebutton.onclick=event=>{let number=event.target.getAttribute("data-action-delete");document.getElementById("offer_group_"+number).remove()})}}function addSelectListener(){let select=document.getElementsByName("add_offer");selector=select[0],selector.onchange=()=>{var type;i++,type=selector.value,_ajax.default.call([{methodname:"enrol_wallet_get_offer_form_fragment",args:{type:type,increment:i,course:courseid}}])[0].done((data=>{container.innerHTML=container.innerHTML+data.data,addDeleteButtonListener(),addSelectListener()})),selector.value=""}}_exports.init=function(cid){let inc=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i=inc,courseid=cid,container=document.getElementById("id_wallet_offerscontainer"),i>0&&addDeleteButtonListener(),addSelectListener()}}));

//# sourceMappingURL=offers.min.js.map