define("enrol_wallet/referral",["exports","jquery","core/str","core/prefetch"],(function(_exports,_jquery,_str,_prefetch){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * TODO describe module referral
   *
   * @module     enrol_wallet/referral
   * @copyright  2024 YOUR NAME <your@email.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */let copyTooltip,copiedTooltip,shareUrl,copyButtonCode,copyButtonUrl,uniqueId;function copyText(target,element){let input=(0,_jquery.default)("#"+target+"_"+uniqueId);navigator.clipboard.writeText(input[0].value),element.setAttribute("title",copiedTooltip)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),(_prefetch=_interopRequireDefault(_prefetch)).default.prefetchStrings("enrol_wallet",["referral_copy_to_clipboard","referral_copied"]);const resetTooltip=element=>{element.setAttribute("title",copyTooltip)};function addListeners(){copyButtonUrl.addEventListener("click",(()=>{copyText("url",copyButtonUrl)})),copyButtonUrl.addEventListener("mouseleave",(()=>{resetTooltip(copyButtonUrl)})),copyButtonCode.addEventListener("click",(()=>{copyText("code",copyButtonCode)})),copyButtonCode.addEventListener("mouseleave",(()=>{resetTooltip(copyButtonCode)})),(0,_jquery.default)('a[href="#shareOnFacebook"]').on("click",(()=>{window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(shareUrl),"facebook-share-dialog","width=800,height=600")})),(0,_jquery.default)('a[href="#shareOnTelegram"]').on("click",(()=>{window.open("https://t.me/share/url?url="+encodeURIComponent(shareUrl))})),(0,_jquery.default)('a[href="#shareOnWhatsApp"]').on("click",(()=>{window.open("https://wa.me/?text="+encodeURIComponent(shareUrl))}))}_exports.init=(url,id)=>{(0,_str.get_strings)([{key:"referral_copy_to_clipboard",component:"enrol_wallet"},{key:"referral_copied",component:"enrol_wallet"}]).then((function(results){return copyTooltip=results[0],copiedTooltip=results[1],!0})).fail((()=>!1)),shareUrl=url,uniqueId=id,copyButtonUrl=document.getElementById("copy_url_"+id),copyButtonCode=document.getElementById("copy_code_"+id),addListeners()}}));

//# sourceMappingURL=referral.min.js.map