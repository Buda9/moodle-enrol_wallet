{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template enrol_wallet/manualpolicy

    This template will render information about manual refund policy.

    Context variables required for this template:
    * policy - the refund policy.

    Example context (json):
    {
        "policy": "something",
        "id": "1234"
    }

}}
<div>
    <div style="text-align: left; padding-bottom: 2px;">
        {{# policy}}
        <a href="#" id="enrol_wallet_transactions-policy-url-{{{id}}}" class="transactions-policy-url"> {{# str }} refundpolicy, enrol_wallet {{/ str }}</a><br>
        {{/ policy}}
    </div>
    <div id="enrol_wallet_transactions-policy-{{{id}}}" class="transactions-policy" style="display:none;">{{{policy}}}</div><br>
    {{#topup}}
        <h6 style="color:#9f0f0f;"> &#8595; {{# str }} manualrefundboxlabel, enrol_wallet {{/ str }}</h6>
    {{/topup}}
</div>


{{#js}}
    var urlPolicy = document.getElementById('enrol_wallet_transactions-policy-url-{{{id}}}');
    urlPolicy.addEventListener("click", function() {
        var policy = document.getElementById('enrol_wallet_transactions-policy-{{{id}}}');
        if (policy.style.display === "none") {
            policy.style.display = "block";
        } else {
            policy.style.display = "none";
        }
    });
    {{#topup}}
    var walletPolicyAgreed = document.getElementById('wallet_topup_policy_confirm_{{id}}');
    walletPolicyAgreed.addEventListener('change', function() {
        var topUpBox = document.getElementById('enrol_wallet_topup_box_{{id}}');
        if (walletPolicyAgreed.checked == true) {
            topUpBox.style.display = 'block';
        } else {
            topUpBox.style.display = 'none';
        }
    });
    {{/topup}}
{{/js}}